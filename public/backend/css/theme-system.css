/**
 * ChiBank v5.0.0 主题系统 CSS
 * 支持明亮、黑暗、豪华三套主题
 */

/* ============================================
   CSS 变量定义
============================================ */

:root {
    /* 主题颜色（由 JS 动态设置） */
    --theme-primary: #0a1929;
    --theme-primary-light: #1a2942;
    --theme-primary-dark: #050c14;
    --theme-secondary: #ffd700;
    
    /* 背景色 */
    --theme-background: #ffffff;
    --theme-background-alt: #f9fafb;
    --theme-surface: #ffffff;
    --theme-surface-alt: #f3f4f6;
    
    /* 文字色 */
    --theme-text-primary: #111827;
    --theme-text-secondary: #374151;
    --theme-text-muted: #6b7280;
    
    /* 边框 */
    --theme-border: #e5e7eb;
    
    /* 动画 */
    --theme-transition-duration: 300ms;
    --theme-transition-easing: cubic-bezier(0.4, 0, 0.2, 1);
    
    /* 圆角 */
    --theme-border-radius: 0.65rem;
    --theme-border-radius-sm: 0.425rem;
    --theme-border-radius-lg: 1rem;
    
    /* 阴影 */
    --theme-shadow-color: rgba(0, 0, 0, 0.08);
    --theme-shadow: 0 0 20px var(--theme-shadow-color);
    --theme-shadow-sm: 0 0 10px var(--theme-shadow-color);
    --theme-shadow-lg: 0 10px 30px var(--theme-shadow-color);
}

/* ============================================
   全局样式
============================================ */

body {
    background-color: var(--theme-background);
    color: var(--theme-text-primary);
    transition: background-color var(--theme-transition-duration) var(--theme-transition-easing),
                color var(--theme-transition-duration) var(--theme-transition-easing);
}

/* ============================================
   主题切换动画
============================================ */

.theme-transition-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(10px);
    z-index: 99999;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
}

.theme-transition-overlay.show {
    opacity: 1;
    visibility: visible;
}

.theme-transition-content {
    text-align: center;
    color: white;
}

.theme-transition-spinner {
    width: 60px;
    height: 60px;
    margin: 0 auto 1rem;
    border: 4px solid rgba(255, 255, 255, 0.2);
    border-top-color: #ffd700;
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

@keyframes spin {
    to { transform: rotate(360deg); }
}

.theme-transition-text {
    font-size: 1.1rem;
    font-weight: 600;
}

/* ============================================
   卡片组件
============================================ */

.card {
    background-color: var(--theme-surface);
    border: 1px solid var(--theme-border);
    border-radius: var(--theme-border-radius-lg);
    box-shadow: var(--theme-shadow-sm);
    transition: all var(--theme-transition-duration) var(--theme-transition-easing);
}

.card:hover {
    box-shadow: var(--theme-shadow);
    transform: translateY(-2px);
}

.card-header {
    background-color: var(--theme-surface-alt);
    border-bottom: 1px solid var(--theme-border);
    padding: 1.5rem;
}

.card-body {
    background-color: var(--theme-surface);
    padding: 1.5rem;
    color: var(--theme-text-primary);
}

.card-footer {
    background-color: var(--theme-surface-alt);
    border-top: 1px solid var(--theme-border);
    padding: 1.25rem 1.5rem;
}

/* ============================================
   按钮组件
============================================ */

.btn-primary {
    background: var(--theme-primary);
    border-color: var(--theme-primary);
    color: white;
    transition: all var(--theme-transition-duration) var(--theme-transition-easing);
}

.btn-primary:hover {
    background: var(--theme-primary-light);
    border-color: var(--theme-primary-light);
    transform: translateY(-2px);
    box-shadow: 0 8px 16px var(--theme-shadow-color);
}

.btn-secondary {
    background: var(--theme-secondary);
    border-color: var(--theme-secondary);
    color: var(--theme-primary);
    transition: all var(--theme-transition-duration) var(--theme-transition-easing);
}

/* ============================================
   表单组件
============================================ */

.form-control,
.form-select {
    background-color: var(--theme-surface);
    border-color: var(--theme-border);
    color: var(--theme-text-primary);
    transition: all var(--theme-transition-duration) var(--theme-transition-easing);
}

.form-control:focus,
.form-select:focus {
    background-color: var(--theme-surface);
    border-color: var(--theme-primary);
    color: var(--theme-text-primary);
    box-shadow: 0 0 0 0.2rem rgba(var(--theme-primary-rgb), 0.25);
}

.form-control::placeholder {
    color: var(--theme-text-muted);
}

.form-label {
    color: var(--theme-text-secondary);
}

/* ============================================
   表格组件
============================================ */

.table {
    color: var(--theme-text-primary);
}

.table thead {
    background-color: var(--theme-surface-alt);
    border-color: var(--theme-border);
}

.table tbody tr {
    background-color: var(--theme-surface);
    border-color: var(--theme-border);
    transition: all 0.2s ease;
}

.table tbody tr:hover {
    background-color: var(--theme-surface-alt);
}

.table td,
.table th {
    border-color: var(--theme-border);
}

/* ============================================
   导航栏
============================================ */

.navbar {
    background-color: var(--theme-surface);
    border-bottom: 1px solid var(--theme-border);
    box-shadow: var(--theme-shadow-sm);
}

.navbar-brand {
    color: var(--theme-primary);
}

.nav-link {
    color: var(--theme-text-secondary);
    transition: color var(--theme-transition-duration) var(--theme-transition-easing);
}

.nav-link:hover {
    color: var(--theme-primary);
}

.nav-link.active {
    color: var(--theme-primary);
}

/* ============================================
   侧边栏
============================================ */

.sidebar {
    background-color: var(--theme-surface);
    border-right: 1px solid var(--theme-border);
}

.sidebar-menu-item {
    color: var(--theme-text-secondary);
    transition: all 0.2s ease;
}

.sidebar-menu-item:hover {
    background-color: var(--theme-surface-alt);
    color: var(--theme-primary);
}

.sidebar-menu-item.active {
    background-color: var(--theme-surface-alt);
    color: var(--theme-primary);
    border-left: 3px solid var(--theme-primary);
}

/* ============================================
   模态框
============================================ */

.modal-content {
    background-color: var(--theme-surface);
    border-color: var(--theme-border);
}

.modal-header {
    background-color: var(--theme-surface-alt);
    border-bottom-color: var(--theme-border);
}

.modal-footer {
    background-color: var(--theme-surface-alt);
    border-top-color: var(--theme-border);
}

/* ============================================
   下拉菜单
============================================ */

.dropdown-menu {
    background-color: var(--theme-surface);
    border-color: var(--theme-border);
    box-shadow: var(--theme-shadow-lg);
}

.dropdown-item {
    color: var(--theme-text-secondary);
    transition: all 0.2s ease;
}

.dropdown-item:hover {
    background-color: var(--theme-surface-alt);
    color: var(--theme-primary);
}

.dropdown-divider {
    border-color: var(--theme-border);
}

/* ============================================
   徽章
============================================ */

.badge {
    transition: all 0.2s ease;
}

.badge-primary {
    background-color: var(--theme-primary);
}

.badge-secondary {
    background-color: var(--theme-secondary);
    color: var(--theme-primary);
}

/* ============================================
   警告框
============================================ */

.alert {
    border-radius: var(--theme-border-radius);
    border: 1px solid;
}

.alert-success {
    background-color: var(--theme-success-light);
    border-color: var(--theme-success);
    color: var(--theme-success);
}

.alert-danger {
    background-color: var(--theme-danger-light);
    border-color: var(--theme-danger);
    color: var(--theme-danger);
}

.alert-warning {
    background-color: var(--theme-warning-light);
    border-color: var(--theme-warning);
    color: var(--theme-warning);
}

.alert-info {
    background-color: var(--theme-info-light);
    border-color: var(--theme-info);
    color: var(--theme-info);
}

/* ============================================
   进度条
============================================ */

.progress {
    background-color: var(--theme-surface-alt);
    border-radius: var(--theme-border-radius);
}

.progress-bar {
    background-color: var(--theme-primary);
    transition: width 0.6s ease;
}

/* ============================================
   分页
============================================ */

.pagination {
    --bs-pagination-bg: var(--theme-surface);
    --bs-pagination-border-color: var(--theme-border);
    --bs-pagination-hover-bg: var(--theme-surface-alt);
    --bs-pagination-hover-border-color: var(--theme-border);
    --bs-pagination-active-bg: var(--theme-primary);
    --bs-pagination-active-border-color: var(--theme-primary);
}

/* ============================================
   加载动画
============================================ */

.spinner-border {
    border-color: var(--theme-primary);
    border-right-color: transparent;
}

/* ============================================
   主题特定样式
============================================ */

/* 豪华主题特效 */
[data-theme="luxury"] .luxury-glow {
    box-shadow: var(--theme-glow-gold);
}

[data-theme="luxury"] .luxury-text {
    background: var(--theme-primary-gradient);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

[data-theme="luxury"] .luxury-border {
    border-image: var(--theme-primary-gradient) 1;
}

/* 黑暗主题特效 */
[data-theme="dark"] .dark-glow {
    box-shadow: 0 0 20px rgba(59, 130, 246, 0.3);
}

/* 明亮主题特效 */
[data-theme="light"] .light-shadow {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

/* ============================================
   响应式适配
============================================ */

@media (max-width: 768px) {
    .card {
        border-radius: var(--theme-border-radius);
    }
    
    .modal-content {
        border-radius: var(--theme-border-radius-lg);
    }
}

/* ============================================
   打印样式
============================================ */

@media print {
    body {
        background-color: white;
        color: black;
    }
    
    .card {
        box-shadow: none;
        border: 1px solid #ddd;
    }
}

/* ============================================
   辅助类
============================================ */

.theme-text-primary {
    color: var(--theme-text-primary) !important;
}

.theme-text-secondary {
    color: var(--theme-text-secondary) !important;
}

.theme-text-muted {
    color: var(--theme-text-muted) !important;
}

.theme-bg-primary {
    background-color: var(--theme-primary) !important;
}

.theme-bg-secondary {
    background-color: var(--theme-secondary) !important;
}

.theme-bg-surface {
    background-color: var(--theme-surface) !important;
}

.theme-border {
    border-color: var(--theme-border) !important;
}

.theme-shadow {
    box-shadow: var(--theme-shadow) !important;
}

.theme-transition {
    transition: all var(--theme-transition-duration) var(--theme-transition-easing) !important;
}
