# å¿«é€Ÿéƒ¨ç½²æŒ‡å— / Quick Deploy Guide

## âš ï¸ é‡è¦æç¤º / Important Note

æ‰€æœ‰è„šæœ¬å’Œé…ç½®æ–‡ä»¶å·²ç»åœ¨ `main` åˆ†æ”¯ä¸­å¯ç”¨ã€‚
All scripts and configuration files are now available in the `main` branch.

---

## ğŸš€ æ–¹æ³•1ï¼šç›´æ¥å¤åˆ¶ç²˜è´´è¿è¡Œï¼ˆæ¨èï¼‰/ Method 1: Copy-Paste Script (Recommended)

å¤åˆ¶ä¸‹é¢çš„å®Œæ•´è„šæœ¬ï¼Œç²˜è´´åˆ°ç»ˆç«¯è¿è¡Œï¼š
Copy the complete script below and paste into terminal:

```bash
#!/bin/bash
set -e
echo "ChiBank è‡ªåŠ¨éƒ¨ç½²..."
DEPLOY_DIR="$HOME/chibank-deploy"
mkdir -p "$DEPLOY_DIR" && cd "$DEPLOY_DIR"

# ä¸‹è½½é…ç½®
curl -fsSL https://raw.githubusercontent.com/hhongli1979-coder/chibank999/main/docker-compose.prod.yml -o docker-compose.yml
curl -fsSL https://raw.githubusercontent.com/hhongli1979-coder/chibank999/main/.env.example -o .env.example

# é…ç½®ç¯å¢ƒ
if [ ! -f .env ]; then
    cp .env.example .env
    DB_PASS=$(openssl rand -base64 16 | tr -d "=+/")
    sed -i "s/DB_PASSWORD=.*/DB_PASSWORD=${DB_PASS}/" .env 2>/dev/null || sed -i '' "s/DB_PASSWORD=.*/DB_PASSWORD=${DB_PASS}/" .env
    sed -i "s|APP_KEY=.*|APP_KEY=base64:$(openssl rand -base64 32)|" .env 2>/dev/null || sed -i '' "s|APP_KEY=.*|APP_KEY=base64:$(openssl rand -base64 32)|" .env
    echo "æ•°æ®åº“å¯†ç : ${DB_PASS}" > credentials.txt
    chmod 600 credentials.txt
fi

# å¯åŠ¨
docker compose pull && docker compose up -d || (docker-compose pull && docker-compose up -d)
echo "ç­‰å¾…å¯åŠ¨..."
sleep 20

# åˆå§‹åŒ–
docker compose exec -T app php artisan migrate --force || docker-compose exec -T app php artisan migrate --force

echo "âœ“ éƒ¨ç½²å®Œæˆï¼è®¿é—® http://localhost"
echo "å¯†ç æ–‡ä»¶: $DEPLOY_DIR/credentials.txt"
```

---

## ğŸš€ æ–¹æ³•2ï¼šä½¿ç”¨åˆ†æ”¯ URL / Method 2: Use Branch URL

```bash
curl -fsSL https://raw.githubusercontent.com/hhongli1979-coder/chibank999/main/scripts/simple-deploy.sh | bash
```

---

## ğŸš€ æ–¹æ³•3ï¼šå…‹éš†ä»“åº“ / Method 3: Clone Repository

```bash
git clone https://github.com/hhongli1979-coder/chibank999.git
cd chibank999
chmod +x scripts/simple-deploy.sh
./scripts/simple-deploy.sh
```

---

## ğŸ“¦ æ‰‹åŠ¨ Docker éƒ¨ç½² / Manual Docker Deploy

```bash
# 1. åˆ›å»ºç›®å½•
mkdir -p ~/chibank && cd ~/chibank

# 2. ä¸‹è½½é…ç½®ï¼ˆä» main åˆ†æ”¯ï¼‰
curl -O https://raw.githubusercontent.com/hhongli1979-coder/chibank999/main/docker-compose.prod.yml
mv docker-compose.prod.yml docker-compose.yml

curl -O https://raw.githubusercontent.com/hhongli1979-coder/chibank999/main/.env.example
cp .env.example .env

# 3. ç¼–è¾‘ .env è®¾ç½®å¯†ç 
nano .env  # ä¿®æ”¹ DB_PASSWORD

# 4. å¯åŠ¨
docker-compose pull
docker-compose up -d

# 5. åˆå§‹åŒ–
sleep 20
docker-compose exec app php artisan migrate --force

# 6. è®¿é—®
echo "è®¿é—® http://localhost"
```

---

## âœ… ç°åœ¨å¯ç”¨ / Now Available

æ‰€æœ‰è„šæœ¬å·²åˆå¹¶åˆ° `main` åˆ†æ”¯ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ï¼š
```bash
curl -fsSL https://raw.githubusercontent.com/hhongli1979-coder/chibank999/main/scripts/simple-deploy.sh | bash
```

---

## ğŸ› ï¸ å¸¸ç”¨å‘½ä»¤ / Common Commands

```bash
# æŸ¥çœ‹æ—¥å¿—
cd ~/chibank-deploy && docker-compose logs -f

# åœæ­¢
cd ~/chibank-deploy && docker-compose down

# é‡å¯
cd ~/chibank-deploy && docker-compose restart
```
